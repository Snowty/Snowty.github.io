---
layout: post
title: 网上搜集的一些安全岗面试问题--web常见漏洞原理与防御
date: 2018-03-06
tags: Sec 
---

### 怎么又要开始准备面试了
上次准备面试还是15年大三的时候啊，真心是什么都不懂（虽然现在也是...会用wamp建个站就投了安全岗啊233...我真是哪里来的勇气...

今天看到当年投阿里写的在线简历，真是惨不忍睹，估计当时HR看到了以为我是在搞笑吧🤣

下面总结的内容都比较简略，或者直接给出了别人总结的很好的文章供以后查看，因为每个点展开来将都可以写好几篇文章（嗯，为自己偷懒找借口

然后，把CHYbeta大神的[Web-Security-Learning](https://github.com/CHYbeta/Web-Security-Learning)过一遍😳？

### 常见漏洞的原理与防御

1.  XSS：[浅谈XSS—字符编码和浏览器解析原理](https://security.yirendai.com/news/share/26)

        类型：

            反射型XSS：把用户输入的数据“反射”给浏览器，需要用户点击某链接

            存储型XSS：把用户输入的数据存储在服务器

            DOM Based XSS：也属于反射型XSS，修改页面的DOM节点形成XSS

        常用payload：

            https://www.t00ls.net/thread-42640-1-1.html

        防御：

            Cookie的`HttpOnly标识`

            XSS Filter：过滤用户输入的危险字符

            输出检查：编码和转义
        
2.  SQL Injection:

        原理：

            用户输入的数据当做代码执行

        防御：
            
            使用预编译语句，绑定变量

            检查数据类型

            使用安全函数

            最小权限原则

3.  CSRF:

        原理：

            用户登录某账户，浏览器获得cookie

            攻击者诱使用户访问某构造好的恶意CSRF页面

        防御：
            
            验证码

            Referer Check（HTTPS跳转到HTTP不会发送Referer）

            Anti CSRF Token

4.  SSRF（Server-Side Request Forgery）:服务器端请求伪造（这个漏洞我还真的没有测试过...
    
        参考：http://uknowsec.cn/posts/notes/SSRF%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%88%A9%E7%94%A8%E4%B8%8E%E5%AD%A6%E4%B9%A0.html

        原理：
        
            由攻击者构造的攻击链接传给服务端执行造成的漏洞，一般用来在外网探测或攻击内网服务

        可利用的伪协议：

            对curl函数的滥用，dict file ftp ftps gopher http https imap imaps pop3 pop3s rtsp smb smbs smtp smtps telnet tftp 

        防御：

            过滤返回信息

            限制请求端口

            内网IP黑名单
    

5.  XXE

        参考：https://thief.one/2017/06/20/1/


